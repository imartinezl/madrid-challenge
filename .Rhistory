data %>%
dplyr::mutate(FECHA.PUESTA.EN.SERVICIO = as.Date(FECHA.PUESTA.EN.SERVICIO, format="%d/%m/%Y"),
Longitud = as.numeric(sub(",", ".", Longitud, fixed = TRUE)) ) %>%
head
data %>%
dplyr::mutate(FECHA.PUESTA.EN.SERVICIO = as.Date(FECHA.PUESTA.EN.SERVICIO, format="%d/%m/%Y"),
Longitud = as.numeric(sub(",", ".", Longitud, fixed = TRUE)) ) %>%
head
data %>%
dplyr::mutate(FECHA.PUESTA.EN.SERVICIO = as.Date(FECHA.PUESTA.EN.SERVICIO, format="%d/%m/%Y"),
Longitud = as.numeric(sub(",", ".", Longitud, fixed = TRUE)),
Latitud = as.numeric(sub(",", ".", Latitud, fixed = TRUE))) %>%
head
data <- read.csv('data/Contenedores_vidrio_con_publicidad.csv', sep = ";", stringsAsFactors = F) %>%
dplyr::mutate(FECHA.PUESTA.EN.SERVICIO = as.Date(FECHA.PUESTA.EN.SERVICIO, format="%d/%m/%Y"),
Longitud = as.numeric(sub(",", ".", Longitud, fixed = TRUE)),
Latitud = as.numeric(sub(",", ".", Latitud, fixed = TRUE)))
plot(data$Latitud,data$Longitud)
data %>%
ggplot2::ggplot()+
ggplot2::geom_point(ggplot2::aes(x=Longitud, y=Latitud))
install.packages(c("sp", "leaflet"))
library(leaflet)
leaflet(options = leafletOptions(minZoom = 0, maxZoom = 18))
leaflet::leaflet(options = leafletOptions(minZoom = 0, maxZoom = 18))
install.packages("tmap")
install.packages("tmap")
install.packages("mapdeck")
library(mapdeck)
help(Startup)
set_token(Sys.getenv("MAPBOX"))
ms = mapdeck_style("dark")
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
add_grid(data = data, lat = "Latitud", lon = "Longitud", cell_size = 1000,
elevation_scale = 50, layer_id = "grid_layer",
colour_range = viridisLite::plasma(5))
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
add_grid(data = data, lat = "Latitud", lon = "Longitud", cell_size = 1000,
elevation_scale = 50, layer_id = "grid_layer",
colour_range = viridisLite::plasma(6))
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
mapdeck::add_scatterplot(data = data, lat = "Latitud", lon = "Longitud")
mapdeck::set_token(Sys.getenv("MAPBOX"))
ms = mapdeck::mapdeck_style("dark")
mapdeck::mapdeck_tokens()
library(mapdeck)
mapdeck::set_token(Sys.getenv("MAPBOX"))
mapdeck::mapdeck_tokens()
ms = mapdeck::mapdeck_style("dark")
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
mapdeck::add_scatterplot(data = data, lat = "Latitud", lon = "Longitud")
mapdeck::mapdeck_tokens()
ms = mapdeck::mapdeck_style("streets")
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
mapdeck::add_scatterplot(data = data, lat = "Latitud", lon = "Longitud")
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 500000)
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 5000)
mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 4) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 14) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 14) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 14, height = 5, width = 5) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 14, height = 1, width = 1) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 52), zoom = 10, height = 1, width = 1) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 0), zoom = 0, height = NULL, width = NULL) %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 0), zoom = 0, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 0), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
library(sf)
mapdeck::set_token(Sys.getenv("MAPBOX"))
mapdeck::mapdeck_tokens()
ms = mapdeck::mapdeck_style("streets")
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 0), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
library(dplyr)
library(zeallot)
data <- read.csv('data/Contenedores_vidrio_con_publicidad.csv', sep = ";", stringsAsFactors = F) %>%
dplyr::mutate(FECHA.PUESTA.EN.SERVICIO = as.Date(FECHA.PUESTA.EN.SERVICIO, format="%d/%m/%Y"),
Longitud = as.numeric(sub(",", ".", Longitud, fixed = TRUE)),
Latitud = as.numeric(sub(",", ".", Latitud, fixed = TRUE)))
data %>%
ggplot2::ggplot()+
ggplot2::geom_point(ggplot2::aes(x=Longitud, y=Latitud))
library(sf)
mapdeck::set_token(Sys.getenv("MAPBOX"))
mapdeck::mapdeck_tokens()
ms = mapdeck::mapdeck_style("streets")
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 0), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 0), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(0, 0), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
zoom = 10,
update_view = T)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(-3.70, 40.4), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = F)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(-3.70, 40.4), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(-3.70, 40.4), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
layer_id = "ms",
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(-3.70, 40.4), zoom = 10, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
layer_id = "ms",
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(-3.70, 40.4), zoom = 14, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
layer_id = "ms",
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 45, location = c(-3.70, 40.4), zoom = 12, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
layer_id = "ms",
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 0, location = c(-3.70, 40.5), zoom = 12, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
layer_id = "ms",
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 0, location = c(-3.70, 40.45), zoom = 11, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
layer_id = "ms",
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
mapdeck::mapdeck(style = ms, pitch = 0, location = c(-3.70, 40.45), zoom = 11, height = "400px", width = "400px") %>%
mapdeck::add_scatterplot(
layer_id = "ms",
data = data,
lat = "Latitud",
lon = "Longitud",
radius = 50,
update_view = FALSE)
leaflet::leaflet(options = leafletOptions(minZoom = 0, maxZoom = 18)) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
leaflet::addTiles() %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
names(providers)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(providers$Stamen.Toner) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Hydda.Base) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$CartoDB) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$CartoDB.Positron) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$CartoDB.DarkMatter) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$HERE.basicMap) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Thunderforest) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~as.character(NUMERO), label = ~as.character(Nombre))
greenLeafIcon <- leaflet::makeIcon(
iconUrl = "http://leafletjs.com/examples/custom-icons/leaf-green.png",
iconWidth = 38, iconHeight = 95,
iconAnchorX = 22, iconAnchorY = 94,
shadowUrl = "http://leafletjs.com/examples/custom-icons/leaf-shadow.png",
shadowWidth = 50, shadowHeight = 64,
shadowAnchorX = 4, shadowAnchorY = 62
)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~as.character(NUMERO), label = ~as.character(Nombre), icon = greenLeafIcon)
icons <- leaflet::awesomeIcons(
icon = 'ios-close',
iconColor = 'black',
library = 'ion',
markerColor = "orange"
)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~as.character(NUMERO), label = ~as.character(Nombre), icon = icons)
icons <- leaflet::awesomeIcons(
icon = 'ios-close',
iconColor = 'black',
library = 'ion',
markerColor = "orange"
)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~as.character(NUMERO), label = ~as.character(Nombre), icon = icons)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~as.character(NUMERO), label = ~as.character(Nombre), icon = icons)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~htmlEscape(DIRECCION), label = ~as.character(Nombre), icon = icons)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~leaflet::htmlEscape(DIRECCION), label = ~as.character(Nombre), icon = icons)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers(lat = ~ Latitud, lng = ~ Longitud, popup = ~htmltools::htmlEscape(DIRECCION), label = ~as.character(Nombre), icon = icons)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers(lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre, icon = icons)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers(lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px"))
a <- rgdal::readOGR("data/Madrid_Central/Madrid_Central.shp")
leaflet::leaflet(options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(data = data, lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers(data = data, lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolygons(data = a, color = "#444444", weight = 1, smoothFactor = 0.5,
opacity = 1.0, fillOpacity = 0.5)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolygons(data = a, color = "#444444", weight = 1, smoothFactor = 0.5,
opacity = 1.0, fillOpacity = 0.5)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px"))
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolygons(layerId = "1",data = a, color = "#444444", weight = 1, smoothFactor = 0.5,
opacity = 1.0, fillOpacity = 0.5)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolygons(layerId = "1",data = a, color = "#444444", weight = 1, smoothFactor = 0.5,
opacity = 1.0, fillOpacity = 0.5)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolygons(layerId = "1",data = a, color = "#444444", weight = 1, smoothFactor = 0.5,
opacity = 1.0, fillOpacity = 0.5)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolygons(layerId = "1",data = a)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolygons(data = a)
a@data
a@lines
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolylines(data = a)
a@proj4string
a <- rgdal::readOGR("data/Madrid_Central/Madrid_Central.shp",
layer = "Madrid Central", GDAL1_integer64_policy = TRUE)
a <- rgdal::readOGR("data/Madrid_Central/Madrid_Central.shp",
GDAL1_integer64_policy = TRUE)
a <- rgdal::readOGR("data/Madrid_Central/Madrid_Central.shp",
layer = "Madrid_Central", GDAL1_integer64_policy = TRUE)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia) %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolylines(data = a)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia, group = "OSM (default)") %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolylines(data = a, group = "Outline") %>%
leaflet::addLayersControl(
overlayGroups = c("OSM (default)", "Outline"),
options = layersControlOptions(collapsed = FALSE)
)
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia, group = "OSM (default)") %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolylines(data = a, group = "Outline") %>%
leaflet::addLayersControl(
overlayGroups = c("OSM (default)", "Outline"),
options = leaflet::layersControlOptions(collapsed = FALSE)
)
a@proj4string
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia, group = "OSM (default)") %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolylines(data = a, group = "Outline", options = leaflet::leafletOptions(crs = a@proj4string)) %>%
leaflet::addLayersControl(
overlayGroups = c("OSM (default)", "Outline"),
options = leaflet::layersControlOptions(collapsed = FALSE)
)
a@proj4string
a@proj4string[1]
a@proj4string@projargs
epsg32630 <- leaflet::leafletCRS(
crsClass = "L.Proj.CRS",
code = "EPSG:32630",
proj4def = a@proj4string@projargs,
resolutions = 2^(16:7))
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia, group = "OSM (default)") %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolylines(data = a, group = "Outline", options = leaflet::leafletOptions(crs = epsg32630)) %>%
leaflet::addLayersControl(
overlayGroups = c("OSM (default)", "Outline"),
options = leaflet::layersControlOptions(collapsed = FALSE)
)
epsg32630 <- leaflet::leafletCRS(
crsClass = "L.Proj.CRS",
code = "EPSG:32630",
proj4def = a@proj4string@projargs,
projectedBounds = a@bbox,
resolutions = 2^(16:7))
epsg32630 <- leaflet::leafletCRS(
crsClass = "L.Proj.CRS",
code = "EPSG:32630",
proj4def = a@proj4string@projargs,
bounds = a@bbox,
resolutions = 2^(16:7))
leaflet::leaflet(data = data, options = leaflet::leafletOptions(minZoom = 0, maxZoom = 18)) %>%
# leaflet::addTiles() %>%
leaflet::addProviderTiles(leaflet::providers$Wikimedia, group = "OSM (default)") %>%
# leaflet::addCircles(lat = ~ Latitud, lng = ~ Longitud) %>%
# leaflet::addAwesomeMarkers( lat = ~ Latitud, lng = ~ Longitud, label = ~Nombre,
# icon = icons, labelOptions = leaflet::labelOptions(textsize = "15px")) %>%
leaflet::addPolylines(data = a, group = "Outline", options = leaflet::leafletOptions(crs = epsg32630)) %>%
leaflet::addLayersControl(
overlayGroups = c("OSM (default)", "Outline"),
options = leaflet::layersControlOptions(collapsed = FALSE)
)
